(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2603)}])},2603:function(e,t,n){"use strict";n.r(t);var r=n(5893),a=n(7210),o=n(7294),i=n(2474),l=n.n(i);t.default=()=>{let e=(0,o.useRef)(),[t,i]=(0,o.useState)(null),[s,d]=(0,o.useState)(!1),[p,c]=(0,o.useState)(null),[u,x]=(0,o.useState)(null),[h,g]=(0,o.useState)(!0),[m,b]=(0,o.useState)(!0),[y,f]=(0,o.useState)(""),[v,j]=(0,o.useState)(""),[w,S]=(0,o.useState)(null),[C,A]=(0,o.useState)(!1),[k,D]=(0,o.useState)(null),[G,E]=(0,o.useState)(!1),[R,I]=(0,o.useState)("SDK and Hosted Flow"),[T,q]=(0,o.useState)(null),[U,H]=(0,o.useState)(!1),P=(0,o.useRef)(null),F=(0,o.useRef)(null);(0,o.useEffect)(()=>()=>{var e,t;null===(e=P.current)||void 0===e||e.destroy(),P.current=null,null===(t=F.current)||void 0===t||t.destroy(),F.current=null},[]);let[B,O]=(0,o.useState)({amount:"100",crypto:"ETH",fiat:"USD",partnerAccountId:"9e34f479-b43a-4372-8bdf-90689e16cd5b",payment:"BANKCARD",region:"US"}),[X,W]=(0,o.useState)({start:"2023-07-22",end:"2024-08-22",limit:"5",skip:"0"}),_="GSLDrYtqLmXDJRHbqtUwDQLwKBbEgPvu",K="GET/onramp/v1/configuration",N="GET/onramp/v1/quotes",L="GET/onramp/v1/orders/184f5c5a1c25fd89536a00b626e9f44a6decbe10ab806292ccd4e5a5e199b496",V="GET/onramp/v1/buy",Q=async()=>{let e=await fetch("/api/proxy?endpoint=/webhook-data"),t=await e.json();if(!t.data||0===t.data.length||!t.data[0].headers||!t.data[0].headers["x-signature"]){console.error("Invalid data format received from webhook URL");return}let n=t.data[0].headers["x-signature"][0],r=t.data[0].content,a=function(e){let t=l().createHmac("sha256","GrZvMWzQxSrKZIAaeCsBndQCRoZtiyVz");return t.update(e),t.digest("hex")}(r);n===a?console.log("Signature is valid"):console.error("Invalid signature");let o=await fetch("/api/hashWebhook",{method:"POST",headers:{"Content-Type":"application/json","x-signature":a},body:r}),i=await o.text();console.log(i),q(i),H(!0)};function J(e,t){let n=l().createHmac("sha256",t);return n.update(e),n.digest("hex")}function M(e){let t=l().createHmac("sha256","xx");return t.update(e),t.digest("hex")}console.log("config prod prod config",M(K)),console.log("get single order",M(L)),console.log("API BUY PROD",M(V)),console.log("QUOOOTES PROODDDD",M(N)),console.log("Config Prod",M(K)),console.log("Get Orders Prod",M("GET/onramp/v1/orders"));let z=J(K,_),Z=J(V,_),Y=J(N,_),$=J("GET/onramp/v1/orders",_);J(L,_),M(V),M(N);let ee=e=>{W({...X,[e.target.name]:e.target.value})},et=async()=>{new URLSearchParams(B).toString();let e=await fetch("/api/proxy?endpoint=/onramp/v1/configuration",{method:"GET",headers:{"access-control-allow-headers":"Accept",signature:z,"api-key":"VrHPdUXBsiGtIoWXTGrqqAwmFalpepUq"}}),t=await e.json();D(t)},en=async e=>{let t=await fetch("/api/proxy?endpoint=/onramp/v1/orders&".concat(e),{method:"GET",redirect:"follow",headers:{"access-control-allow-headers":"Accept",signature:$,"api-key":"VrHPdUXBsiGtIoWXTGrqqAwmFalpepUq"}}),n=await t.json();return x(n),g(!0),n},er=async e=>{e.preventDefault();let t=J("GET"+"/onramp/v1/orders/".concat(y),_),n=await fetch("/api/proxy?endpoint=/onramp/v1/orders/".concat(y,"&walletAddress=").concat(v),{method:"GET",redirect:"follow",headers:{"access-control-allow-headers":"Accept",signature:t,"api-key":"VrHPdUXBsiGtIoWXTGrqqAwmFalpepUq"}}),r=await n.json();return S(r),A(!0),r},ea=async()=>{let e=new URLSearchParams(B).toString(),t=await fetch("/api/proxy?endpoint=/onramp/v1/quotes&".concat(e),{method:"GET",redirect:"follow",headers:{"access-control-allow-headers":"Accept",signature:Y,"api-key":"VrHPdUXBsiGtIoWXTGrqqAwmFalpepUq"}}),n=await t.json();c(n)},eo=async()=>{var t;null==e||null===(t=e.current)||void 0===t||t.show();let r=n(2474).randomBytes(32).toString("hex"),a=window.open("","_blank"),o=await fetch("/api/proxy?endpoint=/onramp/v1/buy&amount=21&crypto=ETH&fiat=USD&orderCustomId=".concat(r,"&partnerAccountId=9e34f479-b43a-4372-8bdf-90689e16cd5b&payment=BANKCARD&redirectUrl=https://www.citadel.com/&region=US&walletAddress=0xb43Ae6CC2060e31790d5A7FDAAea828681a9bB4B"),{redirect:"follow",headers:{"api-key":"VrHPdUXBsiGtIoWXTGrqqAwmFalpepUq",signature:Z}});console.log("Response Headers:",[...o.headers]),console.log("signature signature signature signature signature",Z);let l=o.headers.get("X-External-Api-Url");if(l&&a)a.location.href=l;else if(o.ok){let e=o.headers.get("X-Final-Url");e&&a&&(a.location.href=e)}else{let e=await o.json();i(e)}},ei=e=>{O({...B,[e.target.name]:e.target.value})};(0,o.useEffect)(()=>{ea().then(e=>{c(e)})},[]);let el=()=>{let e=n(2474).randomBytes(32).toString("hex");F.current="undefined"!=typeof document&&new a.GateFiSDK({merchantId:"9e34f479-b43a-4372-8bdf-90689e16cd5b",displayMode:a.GateFiDisplayModeEnum.Embedded,nodeSelector:"#embed-button",isSandbox:!0,walletAddress:"0xb43Ae6CC2060e31790d5A7FDAAea828681a9bB4B",email:"test@tester.com",externalId:e,defaultFiat:{currency:"USD",amount:"30"},defaultCrypto:{currency:"ETH"}})};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)("h2",{children:"Unlimit Crypto"}),(0,r.jsxs)("div",{style:{display:"flex",marginBottom:"20px"},children:[(0,r.jsx)("button",{style:{padding:"10px 20px",marginRight:"10px",backgroundColor:"SDK and Hosted Flow"===R?"#ccc":"transparent",border:"1px solid #ddd",borderRadius:"5px"},onClick:()=>I("SDK and Hosted Flow"),children:"SDK and Hosted Flow"}),(0,r.jsx)("button",{style:{padding:"10px 20px",backgroundColor:"APIs"===R?"#ccc":"transparent",border:"1px solid #ddd",borderRadius:"5px"},onClick:()=>I("APIs"),children:"APIs"})]}),"SDK and Hosted Flow"===R&&(0,r.jsxs)("div",{style:{display:"block",justifyContent:"center",gap:"20px",marginTop:"20px",textAlign:"center"},children:[(0,r.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,r.jsx)("button",{onClick:()=>{var e;if(P.current)G?(P.current.hide(),E(!1)):(P.current.show(),E(!0));else{let e=n(2474).randomBytes(32).toString("hex");P.current=new a.GateFiSDK({merchantId:"9e34f479-b43a-4372-8bdf-90689e16cd5b",displayMode:a.GateFiDisplayModeEnum.Overlay,nodeSelector:"#overlay-button",isSandbox:!0,walletAddress:"0xb43Ae6CC2060e31790d5A7FDAAea828681a9bB4B",email:"test@tester.com",externalId:e,defaultFiat:{currency:"USD",amount:"64"},defaultCrypto:{currency:"ETH"}})}null===(e=P.current)||void 0===e||e.show(),E(!0)},children:"Overlay"}),(0,r.jsx)("button",{onClick:()=>{var e,t;s?(null===(e=F.current)||void 0===e||e.hide(),d(!1)):(F.current||el(),null===(t=F.current)||void 0===t||t.show(),d(!0))},children:"Embed"}),(0,r.jsx)("button",{onClick:()=>{window.open("https://onramp-sandbox.gatefi.com/?merchantId=9e34f479-b43a-4372-8bdf-90689e16cd5b&lang=es_PE","_blank")},children:"Hosted Flow"})]}),(0,r.jsx)("div",{id:"overlay-button"}),(0,r.jsxs)("div",{style:{position:"relative",border:"1px solid #ddd",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:[(0,r.jsx)("div",{id:"embed-button"}),s&&(0,r.jsx)("button",{onClick:()=>{var e;null===(e=F.current)||void 0===e||e.destroy(),F.current=null,d(!1)},style:{position:"absolute",right:"113px",transform:"none",top:"10px",background:"rgba(0, 0, 0, 0.7)",color:"#fff",border:"none",borderRadius:"5px",padding:"5px 15px",cursor:"pointer",zIndex:2e3,boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:"Close"})]})]}),"APIs"===R&&(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",marginTop:"10px"},children:[(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginRight:"20px"},children:[(0,r.jsx)("button",{onClick:eo,children:"Buy Asset API GET"}),(0,r.jsx)("button",{onClick:et,children:"Get Config"}),(0,r.jsx)("button",{onClick:Q,children:"Webhook Verification"}),U&&(0,r.jsxs)("div",{style:{border:"2px solid #000",padding:"20px",margin:"20px 0",position:"relative",borderRadius:"4px",backgroundColor:"#f9f9f9"},children:[(0,r.jsx)("p",{style:{margin:"0",padding:"0"},children:T}),(0,r.jsx)("button",{onClick:()=>{H(!1)},style:{top:"10px",right:"10px",background:"red",color:"white",border:"none",borderRadius:"50%",fontSize:"18px",lineHeight:"20px",width:"20px",height:"20px",textAlign:"center",cursor:"pointer"},children:"X"})]})]}),(0,r.jsxs)("div",{style:{border:"1px solid #000",padding:"10px",borderRadius:"5px",margin:"10px",maxWidth:"500px"},children:[(0,r.jsx)("h3",{children:"Get Quotes"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),ea(),b(!0)},style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,r.jsxs)("label",{children:["Amount:",(0,r.jsx)("input",{type:"number",name:"amount",value:B.amount,onChange:ei,required:!0})]}),(0,r.jsxs)("label",{children:["Crypto:",(0,r.jsx)("input",{type:"text",name:"crypto",value:B.crypto,onChange:ei,required:!0})]}),(0,r.jsxs)("label",{children:["Fiat:",(0,r.jsx)("input",{type:"text",name:"fiat",value:B.fiat,onChange:ei,required:!0})]}),(0,r.jsxs)("label",{children:["Partner Account ID:",(0,r.jsx)("input",{type:"text",name:"partnerAccountId",value:B.partnerAccountId,onChange:ei,required:!0})]}),(0,r.jsxs)("label",{children:["Payment:",(0,r.jsx)("input",{type:"text",name:"payment",value:B.payment,onChange:ei,required:!0})]}),(0,r.jsxs)("label",{children:["Region:",(0,r.jsx)("input",{type:"text",name:"region",value:B.region,onChange:ei,required:!0})]}),(0,r.jsx)("button",{type:"submit",children:"Get Quotes"})]})]}),m&&p&&(0,r.jsxs)("div",{style:{position:"relative",border:"1px solid #000",margin:"10px",padding:"10px",borderRadius:"5px",maxWidth:"500px",maxHeight:"300px",overflow:"auto"},children:[(0,r.jsx)("button",{style:{position:"absolute",right:"10px",top:"10px"},onClick:()=>b(!1),children:"X"}),(0,r.jsx)("pre",{children:JSON.stringify(p,null,2)})]}),(0,r.jsxs)("div",{style:{border:"1px solid #000",padding:"10px",borderRadius:"5px",margin:"10px",maxWidth:"500px"},children:[(0,r.jsx)("h3",{children:"Get Orders"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=new URLSearchParams(X).toString();en(t)},style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,r.jsxs)("label",{children:["Start Date:",(0,r.jsx)("input",{type:"date",name:"start",value:X.start,onChange:ee})]}),(0,r.jsxs)("label",{children:["End Date:",(0,r.jsx)("input",{type:"date",name:"end",value:X.end,onChange:ee})]}),(0,r.jsxs)("label",{children:["Limit:",(0,r.jsx)("input",{type:"number",name:"limit",value:X.limit,onChange:ee})]}),(0,r.jsxs)("label",{children:["Skip:",(0,r.jsx)("input",{type:"number",name:"skip",value:X.skip,onChange:ee})]}),(0,r.jsx)("button",{type:"submit",children:"Get Orders"})]})]}),h&&u&&(0,r.jsxs)("div",{style:{position:"relative",border:"1px solid #000",margin:"10px",padding:"10px",borderRadius:"5px",maxWidth:"500px",maxHeight:"300px",overflow:"auto"},children:[(0,r.jsx)("button",{style:{position:"absolute",right:"10px",top:"10px"},onClick:()=>g(!1),children:"X"}),(0,r.jsx)("pre",{children:JSON.stringify(u,null,2)})]}),(0,r.jsxs)("div",{style:{border:"1px solid #000",padding:"10px",borderRadius:"5px",margin:"10px",maxWidth:"500px"},children:[(0,r.jsx)("h3",{children:"Get Single Order"}),(0,r.jsxs)("form",{onSubmit:er,style:{display:"flex",flexDirection:"row",gap:"10px",flexWrap:"wrap"},children:[(0,r.jsxs)("label",{children:["Custom Order ID:",(0,r.jsx)("input",{type:"text",name:"customOrderId",value:y,onChange:e=>{f(e.target.value)},required:!0})]}),(0,r.jsxs)("label",{children:["Wallet Address:",(0,r.jsx)("input",{type:"text",name:"walletAddress",value:v,onChange:e=>{j(e.target.value)},required:!0})]}),(0,r.jsx)("button",{type:"submit",children:"Get Single Order"})]})]}),C&&w&&(0,r.jsxs)("div",{style:{position:"relative",border:"1px solid #000",margin:"10px",padding:"10px",borderRadius:"5px",maxWidth:"500px",maxHeight:"300px",overflow:"auto"},children:[(0,r.jsx)("button",{style:{position:"absolute",right:"10px",top:"10px"},onClick:()=>A(!1),children:"X"}),(0,r.jsx)("pre",{children:JSON.stringify(w,null,2)})]})]}),k&&(0,r.jsxs)("div",{style:{position:"relative",border:"1px solid #000",margin:"10px",padding:"10px",borderRadius:"5px",maxWidth:"500px",maxHeight:"300px",overflow:"auto"},children:[(0,r.jsx)("button",{style:{position:"absolute",right:"10px",top:"10px"},onClick:()=>D(null),children:"X"}),(0,r.jsx)("pre",{children:JSON.stringify(k,null,2)})]})]})})}}},function(e){e.O(0,[774,714,458,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);